<!DOCTYPE html>
<html lang="es">
{% load static %}

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Enlaces a Bootstrap 5 CSS & JS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="icon" href="{% static './Images/logo_u_icesi.png'%}">
  <!-- Enlace CSS Local -->
  <title>Balance Academico</title>
</head>

<body style="background-color: #f3f6fc;">

  <style>
    form {

      max-width: 100%;
      background-color: #cfd5e1;
      border-radius: 25px;
      margin: 0 auto;
      padding: 20px;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    label {
      display: block;
      margin-bottom: 10px;
    }

    input[type="text"],
    input[type="number"] {
      width: 100%;
      padding: 10px;
      margin-bottom: 15px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 16px;
    }

    textarea {
      width: 100%;
      padding: 10px;
      height: 150px;
      margin-bottom: 15px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 16px;
    }

    button {
      background-color: #FFFFFF;
      color: black;
      border-color: #a6aec1;
      padding: 15px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 18px;
    }

    button:hover {
      background-color: #6c788e;
      color: white;
    }

    #tabla {
      border-collapse: collapse;
      width: 100%;
      margin: 0 auto;
    }

    .container {
      width: 100%;

    }

    .tableFixHead::-webkit-scrollbar {
      width: 12px;
    }

    .tableFixHead::-webkit-scrollbar-track {
      background: #f1f1f1;
    }

    .tableFixHead::-webkit-scrollbar-thumb {
      background-color: #888;
      border-radius: 6px;
    }

    .tableFixHead {
      scrollbar-width: thin;
      scrollbar-color: #888 #f1f1f1;
    }

    .navbar.navbar-dark.bg-dark.fixed-top {
      background-color: #2C6698 !important;
    }

    .navbar_name {
      color: #495661;
    }

    /* Añade esto a tu hoja de estilo CSS */
    .tableFixHead {
      overflow-y: scroll;
      scrollbar-width: thin;
      scrollbar-color: #888888 #f0f0f0;
      /* Puedes personalizar los colores aquí */
    }

    .tableFixHead::-webkit-scrollbar {
      width: 8px;
      /* Ancho del scrollbar */
    }

    .tableFixHead::-webkit-scrollbar-thumb {
      background-color: #888888;
      /* Color del thumb */
    }

    .tableFixHead::-webkit-scrollbar-track {
      background-color: #f0f0f0;
      /* Color de la pista */
    }

    .offcanvas {
      background-color: white !important;
    }

    /* Estilo para el cuerpo del offcanvas */
    .offcanvas-body {
      width: 100% !important;
      height: 100% !important;
      overflow: hidden !important;
    }

    /* Estilo para la tabla dentro del offcanvas */
    .tableFixHead {
      overflow-y: scroll;
      height: 100%;
      width: 100%;
    }

    /* Estilo para las filas de la tabla */
    .table tbody {
      overflow: hidden;
    }

    #edit{
      background-color: #2C6698;
      color: white;
      border-color: #a6aec1;
    }

    #edit:hover{
      background-color: #3a83c4;
      color: white;
    }
  </style>

  <header class="bg-primary text-white p-4">
    <nav class="navbar navbar-dark bg-dark fixed-top">
      <div class="container-fluid">
        <a class="navbar-brand d-flex align-items-center" style="font-size: 30px;">
          <img src="{% static './Images/icesi.png'%}" alt="Logo Icesi" width="165" height="50">
          <h1 class="ms-3 mb-0">Editar información financiera</h1>
        </a>
        <a href="/contabilidad" tabindex="-1" class="ms-auto me-4 text-decoration-none text-light">
          <i class="fas fa-arrow-left me-1"></i> Regresar
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasDarkNavbar"
          aria-controls="offcanvasDarkNavbar" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="offcanvas offcanvas-end text-bg-dark" tabindex="-1" id="offcanvasDarkNavbar"
          aria-labelledby="offcanvasDarkNavbarLabel">
          <div class="offcanvas-header" style="background-color: #2C6698 !important;">
            <h5 class="offcanvas-title" id="offcanvasDarkNavbarLabel">Bandeja de notificaciones</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"
              aria-label="Close"></button>
          </div>
          <div class="offcanvas-body"
            style="width: 335px; height: 550px; overflow: hidden; background-color: white !important;">
            <div class="tableFixHead" style="overflow-y: scroll; height: 100%; width: 104%;">
              <table class="table table-striped">
                <tbody style="overflow: scroll;">
                  {% for notificaciones in notificaciones %}
                  <tr>
                    <td>{{notificaciones.title}}</td>
                    <td style="text-align: right;">
                      <button type="button" class="btn btn-dark">
                        <a href="{% url 'ver_noti' notificaciones.id %}"
                            style="text-decoration: none; color: black;">
                            <i class="fas fa-eye" style="color: #70BAFA;"></i>
                        </a>
                      </button>
                      <button type="button" class="btn btn-dark">
                        <a href="{% url 'eliminar_noti' notificaciones.id %}"
                            style="text-decoration: none; color: black;">
                            <i class="fas fa-trash" style="color: #dc3545;"></i>
                        </a>
                      </button>
                    </td>
                  </tr>
                  {% endfor %}
                </tbody>

              </table>
            </div>
          </div>

        </div>
    </nav>
  </header>
  
  <div class="container my-5" style="background-color: #cfd5e1; border-radius: 25px;">
    {% if messages %}
    {% for message in messages %}
    {% if message.tags == 'error' %}
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
      {{ message }}
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    {% elif message.tags == 'success' %}
    <div class="alert alert-success alert-dismissible fade show" role="alert" id="send">
      {{ message }}
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    {% endif %}
    {% endfor %}
    {% endif %}
    <div class="row">
      <div class="col">
        <br>
        <form method="POST" enctype="multipart/form-data">
          {% csrf_token %}
          {{ form.as_p }}
          <button type="submit" id="edit">Editar</button>
          <br>
          <br>
          <label>Subir comprobante de pago <b>(Opcional)</b></label>
          <input type="file" name="comprobantePago" accept=".pdf">
        </form>
        <div class="modal fade" id="mensaje" role="dialog">

        </div>
      </div>
      <div class="col">
        <br>
        <form method="POST">
          <h1 style="background-color: #cfd5e1; font-size: 30px; text-align: center; font-weight: bold;">
            Información de la Beca</h1>
          <label for="{{ form.dineroAsignado.id_for_label }}"
            style="display: inline-block; margin-right: 2px;"><b>Nombre de la beca:</b></label>
          <label style="display: inline-block;">{{ form.type.value }}</label>
          <br>
          <label for="{{ form.dineroAsignado.id_for_label }}"
            style="display: inline-block; margin-right: 2px;"><b>Dinero total beca:</b></label>
          <label style="display: inline-block;">{{ form.dineroAsignado.value }}</label>
          <br>
          <label for="{{ form.matriculaBeca.id_for_label }}" style="display: inline-block; margin-right: 2px;"><b>Dinero
              destinado a matricula:</b></label>
          <label style="display: inline-block;">{{ form.matriculaBeca.value }}</label>
          <br>
          <label for="{{ form.transporteBeca.id_for_label }}"
            style="display: inline-block; margin-right: 2px;"><b>Dinero destinado a transporte:</b></label>
          <label style="display: inline-block;">{{ form.transporteBeca.value }}</label>
          <br>
          <label for="{{ form.alimentacionBeca.id_for_label }}"
            style="display: inline-block; margin-right: 2px;"><b>Dinero destinado a alimentación:</b></label>
          <label style="display: inline-block;">{{ form.alimentacionBeca.value }}</label>
        </form>
      </div>
      <div class="col">
        <br>
        <form>
          <h1
            style="background-color: #cfd5e1; font-size: 30px; text-align: center; font-weight: bold; margin-top: 1%;">
            Historial</h1>
          <div class="tableFixHead" style="overflow: scroll; height: 450px;">
            <table class="table table-striped" style="background-color: #cfd5e1; height: 10cm;" id="tabla">
              <thead>
              </thead>
              <tbody style="overflow: scroll;">
                {% for historial in historial %}
                <tr>
                  <td>{{historial.descripcion}}</td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </form>
        <br>
        <br>
      </div>
    </div>
  </div>
</body>

</html>